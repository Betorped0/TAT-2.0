@model TAT001.Models.ClienteViewModel
@{
ViewBag.pagina_r = 631;
ViewBag.carpeta_r = 500;
Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row">
    <div class="col s12 right-align">
        <a class="btn-small" href="@Url.Action("Carga")">Cargar Clientes</a>
    </div>
</div>
<div class="card-panel">
    <div class="row" style="margin-bottom:0;">
        <div class="input-field col s3 m3 l3">
            @Html.DropDownListFor(model => model.numRegistros, Model.pageSizes, "")
            <label id="lbl_length"></label>
        </div>
        <div class="input-field col s5 m3 l3 offset-l6 offset-m6 offset-s4">
            @Html.TextBoxFor(model => model.buscar, new { @class = "global_filter", @id= "global_filter", @maxlength = 50 })
            <label for="global_filter" id="lbl_search">Buscar</label>
        </div>
    </div>
    <div id="list">
        @Html.Partial("List", Model)
    </div>
    </div>

<script type="text/javascript" src="~/Scripts/fnCommon.js"></script>
<script>

    //---- Inicializador de componentes Materialize----
    fnCommon.materializeInit('select');

    //------Actualizar numero de registros en paginación
    $('#numRegistros').change(function () {
        fnCommon.showProcess(true);
        $.ajax({
            url: '@Url.Content("~")Clientes/List?numRegistros=' + $('#numRegistros').val(),
            success: function (resultView) {
                fnCommon.showProcess(false);
                $('#list').html(resultView);
            }
        });
    });

    //------Actualizar registros por busqueda
    $('input.global_filter').keyup(function () {
        var buscar = $('input.global_filter').val();
         $.ajax({
             url: '@Url.Content("~")Clientes/List?numRegistros=' + $('#numRegistros').val() + '&&buscar=' + $('input.global_filter').val(),
            success: function (resultView) {
                $('#list').html(resultView);
            }
        });
    });

    //------Actualizar orden de registros
    function ActualizarOrden(sortOrder, ordenActual, numRegistros) {

    }
</script>
